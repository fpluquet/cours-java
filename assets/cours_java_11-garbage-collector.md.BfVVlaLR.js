import{_ as e,c as a,o as i,a2 as t}from"./chunks/framework.DJa_oKvU.js";const k=JSON.parse('{"title":"Garbage collector","description":"","frontmatter":{},"headers":[],"relativePath":"cours/java/11-garbage-collector.md","filePath":"cours/java/11-garbage-collector.md"}'),l={name:"cours/java/11-garbage-collector.md"};function n(r,s,p,o,c,h){return i(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="garbage-collector" tabindex="-1">Garbage collector <a class="header-anchor" href="#garbage-collector" aria-label="Permalink to &quot;Garbage collector&quot;">​</a></h1><p>En Java, la gestion de la mémoire est automatisée grâce au <strong>garbage collector</strong>. Cela signifie que, contrairement à certains langages comme le C, vous n’avez pas à libérer manuellement la mémoire occupée par les objets que vous n’utilisez plus. Le garbage collector s’en charge pour vous, ce qui simplifie grandement le développement et limite les risques de fuites de mémoire.</p><div class="tip custom-block"><p class="custom-block-title">À retenir</p><p>Le garbage collector détruit automatiquement les objets qui ne sont plus accessibles dans votre programme. Vous n’avez donc pas à vous soucier de la libération de la mémoire !</p></div><h2 id="garbaquoi" tabindex="-1">GarbaQuoi ? <a class="header-anchor" href="#garbaquoi" aria-label="Permalink to &quot;GarbaQuoi ?&quot;">​</a></h2><p>Tout comme en C#, Java inclut un garbage collector. Son rôle est de surveiller la mémoire et de supprimer les objets qui ne sont plus référencés nulle part dans le code. Cela permet d’éviter que la mémoire ne soit saturée par des objets inutiles.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Un objet devient « candidat à la suppression » dès qu’il n’est plus accessible par aucune variable ou référence active.</p></div><p>Il est possible de demander explicitement au garbage collector de faire une passe, mais cela reste très rare et n’est pas garanti :</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Demande au garbage collector de s’exécuter</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Très peu utilisé. Il est rare d&#39;appeler le GC soi-même</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>L’appel à <code>System.gc()</code> n’est qu’une demande. Le garbage collector peut choisir de l’ignorer.</p></div><h2 id="methode-finalize" tabindex="-1">Méthode <code>finalize()</code> <a class="header-anchor" href="#methode-finalize" aria-label="Permalink to &quot;Méthode \`finalize()\`&quot;">​</a></h2><p>La méthode <code>finalize()</code> est définie dans la classe <code>Object</code>. Toutes les classes héritent donc de cette méthode, que l’on peut surcharger pour exécuter du code juste avant la destruction d’un objet par le garbage collector.</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Personne</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String nom;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String prenom;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NombreDePersonnes;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> finalize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Throwable {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">finalize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Personne supprimée : %s %s&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.nom, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.prenom));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        NombreDePersonnes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">Attention</p><p>L’utilisation de <code>finalize()</code> est déconseillée. Son exécution n’est pas garantie (la méthode peut ne jamais être appelée), et elle est désormais obsolète dans les versions récentes de Java. Préférez d’autres mécanismes pour libérer des ressources (ex : blocs <code>try-with-resources</code>).</p></div><hr><p>Ainsi, le garbage collector est un allié précieux pour la gestion de la mémoire en Java. Il vous permet de vous concentrer sur la logique de votre programme, sans avoir à gérer la libération des objets inutiles. Mais gardez à l’esprit que certains comportements (comme <code>finalize()</code> ou l’appel manuel à <code>System.gc()</code>) sont à utiliser avec beaucoup de précaution, voire à éviter dans la plupart des cas.</p>`,15)])])}const u=e(l,[["render",n]]);export{k as __pageData,u as default};

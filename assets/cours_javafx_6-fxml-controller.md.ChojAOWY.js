import{_ as s,c as i,o as a,a2 as t}from"./chunks/framework.Df9258VE.js";const u=JSON.parse('{"title":"Le contrôleur FXML","description":"","frontmatter":{},"headers":[],"relativePath":"cours/javafx/6-fxml-controller.md","filePath":"cours/javafx/6-fxml-controller.md"}'),l={name:"cours/javafx/6-fxml-controller.md"};function n(r,e,o,p,d,c){return a(),i("div",null,e[0]||(e[0]=[t(`<h1 id="le-controleur-fxml" tabindex="-1">Le contrôleur FXML <a class="header-anchor" href="#le-controleur-fxml" aria-label="Permalink to &quot;Le contrôleur FXML&quot;">​</a></h1><p>Le contrôleur FXML est une classe Java qui fait le lien entre l&#39;interface décrite en FXML (le fichier XML qui structure l&#39;UI) et la logique métier de ton application. Il permet de gérer les événements (clics, saisies, etc.), de manipuler les éléments graphiques définis dans le fichier FXML, et d&#39;assurer la communication entre l&#39;interface et le code Java.</p><h2 id="pourquoi-utiliser-un-controleur-fxml" tabindex="-1">Pourquoi utiliser un contrôleur FXML ? <a class="header-anchor" href="#pourquoi-utiliser-un-controleur-fxml" aria-label="Permalink to &quot;Pourquoi utiliser un contrôleur FXML ?&quot;">​</a></h2><p>Le contrôleur FXML permet :</p><ul><li>De séparer la structure de l’interface (décrite en FXML) de la logique métier (en Java).</li><li>De rendre le code plus lisible, modulaire et maintenable.</li><li>De faciliter le travail en équipe (un développeur peut travailler sur l’UI, un autre sur la logique).</li><li>D’associer facilement des événements (clics, saisies, etc.) à des méthodes Java.</li></ul><blockquote><p><strong>Info :</strong> Un bon découpage FXML/contrôleur permet de réutiliser des interfaces et de tester la logique métier indépendamment de l’UI.</p></blockquote><h2 id="cycle-de-vie-d-un-controleur-fxml" tabindex="-1">Cycle de vie d’un contrôleur FXML <a class="header-anchor" href="#cycle-de-vie-d-un-controleur-fxml" aria-label="Permalink to &quot;Cycle de vie d’un contrôleur FXML&quot;">​</a></h2><ol><li><strong>Chargement du FXML</strong> : JavaFX lit le fichier FXML et instancie tous les composants graphiques.</li><li><strong>Création du contrôleur</strong> : JavaFX crée une instance de la classe contrôleur (définie par <code>fx:controller</code>).</li><li><strong>Injection des éléments</strong> : Les champs annotés <code>@FXML</code> sont automatiquement reliés aux éléments du FXML ayant le même <code>fx:id</code>.</li><li><strong>Appel de la méthode <code>initialize()</code></strong> : Si le contrôleur implémente <code>Initializable</code> ou possède une méthode <code>initialize()</code>, celle-ci est appelée après l’injection des éléments. C’est le bon endroit pour initialiser l’interface.</li></ol><h2 id="declaration-du-controleur-dans-le-fxml" tabindex="-1">Déclaration du contrôleur dans le FXML <a class="header-anchor" href="#declaration-du-controleur-dans-le-fxml" aria-label="Permalink to &quot;Déclaration du contrôleur dans le FXML&quot;">​</a></h2><p>Dans le fichier FXML, on indique le contrôleur avec l&#39;attribut <code>fx:controller</code> sur la balise racine (par exemple <code>&lt;AnchorPane fx:controller=&quot;com.example.MyController&quot;&gt;</code>). Cela permet à JavaFX de savoir quelle classe Java doit être associée à ce fichier FXML.</p><blockquote><p><strong>Info :</strong> Le nom de la classe doit être complet (avec le package) et la classe doit avoir un constructeur sans paramètre (c&#39;est le cas par défaut si tu ne déclares pas de constructeur).</p></blockquote><h2 id="liaison-des-elements-fxml-et-du-controleur" tabindex="-1">Liaison des éléments FXML et du contrôleur <a class="header-anchor" href="#liaison-des-elements-fxml-et-du-controleur" aria-label="Permalink to &quot;Liaison des éléments FXML et du contrôleur&quot;">​</a></h2><p>Pour accéder à un élément défini dans le FXML, on lui donne un attribut <code>fx:id</code> dans le fichier FXML, puis on déclare un champ annoté <code>@FXML</code> dans le contrôleur Java. Cela permet de manipuler cet élément directement dans le code.</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyController</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Initializable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FXML</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Button myButton;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> initialize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(URL </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ResourceBundle </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resourceBundle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        myButton.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setButtonText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        myButton.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Explication :</strong></p><ul><li>L&#39;attribut <code>fx:id</code> dans le FXML doit correspondre au nom du champ annoté <code>@FXML</code> dans le contrôleur.</li><li>La méthode <code>initialize</code> (appelée automatiquement) permet d&#39;initialiser les éléments de l&#39;interface après leur création.</li><li>On peut ajouter des méthodes utilitaires pour manipuler les éléments depuis d&#39;autres classes.</li></ul><h2 id="recuperer-le-controleur-depuis-le-code-java" tabindex="-1">Récupérer le contrôleur depuis le code Java <a class="header-anchor" href="#recuperer-le-controleur-depuis-le-code-java" aria-label="Permalink to &quot;Récupérer le contrôleur depuis le code Java&quot;">​</a></h2><p>Il est parfois utile de récupérer une référence au contrôleur pour interagir avec l&#39;interface après le chargement du FXML.</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">FXMLLoader loader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FXMLLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getResource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myfxml.fxml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Parent root </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> loader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">load</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MyController controller </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> loader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">controller.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setButtonText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bonjour !&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p><strong>Explication :</strong></p><ul><li>On charge le FXML avec un <code>FXMLLoader</code>.</li><li>On récupère le contrôleur associé avec <code>getController()</code> pour appeler ses méthodes depuis le code Java.</li><li>Cela permet de modifier l’interface ou de transmettre des données au contrôleur après le chargement.</li></ul><h2 id="gerer-les-evenements-dans-le-controleur" tabindex="-1">Gérer les événements dans le contrôleur <a class="header-anchor" href="#gerer-les-evenements-dans-le-controleur" aria-label="Permalink to &quot;Gérer les événements dans le contrôleur&quot;">​</a></h2><p>On peut ajouter des méthodes annotées <code>@FXML</code> pour réagir aux événements (ex : clic sur un bouton). Ces méthodes peuvent être référencées directement dans le FXML.</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FXML</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onButtonClicked</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Button clicked !&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Dans le FXML :</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fx:id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myButton&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#onButtonClicked&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Click me !&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span></code></pre></div><p><strong>Explication :</strong></p><ul><li>L&#39;attribut <code>onAction=&quot;#onButtonClicked&quot;</code> indique à JavaFX d&#39;appeler la méthode <code>onButtonClicked</code> du contrôleur lors d&#39;un clic sur le bouton.</li><li>La méthode doit être annotée <code>@FXML</code> et avoir le bon nom.</li></ul><h2 id="bonnes-pratiques-et-astuces" tabindex="-1">Bonnes pratiques et astuces <a class="header-anchor" href="#bonnes-pratiques-et-astuces" aria-label="Permalink to &quot;Bonnes pratiques et astuces&quot;">​</a></h2><ul><li><strong>Toujours annoter</strong> les champs et méthodes utilisés par le FXML avec <code>@FXML</code> (même s’ils sont <code>private</code>).</li><li><strong>Ne pas mettre de logique métier complexe</strong> dans le contrôleur : privilégier des appels à des services ou des classes métier.</li><li><strong>Utiliser <code>initialize()</code></strong> pour toute initialisation dépendant de l’UI (et non le constructeur).</li><li><strong>Préférer l’injection de dépendances</strong> (via setters ou méthodes publiques) pour transmettre des données au contrôleur après le chargement.</li><li><strong>Documenter</strong> les méthodes référencées dans le FXML pour faciliter la maintenance.</li></ul><blockquote><p><strong>Info :</strong> Un contrôleur bien conçu est simple, lisible, et ne fait que le lien entre l’UI et la logique métier.</p></blockquote><h2 id="aller-plus-loin" tabindex="-1">Aller plus loin <a class="header-anchor" href="#aller-plus-loin" aria-label="Permalink to &quot;Aller plus loin&quot;">​</a></h2><ul><li>Un même contrôleur peut être réutilisé pour plusieurs interfaces si besoin (attention à la cohérence des <code>fx:id</code>).</li><li>On peut charger dynamiquement plusieurs FXML et leurs contrôleurs pour composer des interfaces modulaires.</li><li>Il est possible de tester un contrôleur indépendamment de l’UI en simulant les appels à ses méthodes publiques.</li><li>Pour des interfaces complexes, il est recommandé de découper en plusieurs FXML et contrôleurs spécialisés.</li></ul><blockquote><p><strong>Info :</strong> Consulte la documentation officielle JavaFX pour découvrir toutes les possibilités offertes par FXML et les contrôleurs.</p></blockquote><blockquote><p><strong>À retenir :</strong> Le contrôleur FXML est la clé d’une architecture propre, modulaire et maintenable en JavaFX. Il permet de séparer l’UI de la logique, de gérer les événements et de rendre le code plus professionnel.</p></blockquote>`,35)]))}const k=s(l,[["render",n]]);export{u as __pageData,k as default};
